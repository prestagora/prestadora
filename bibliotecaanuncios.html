<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Biblioteca de Anúncios - PrestAgora</title>

<style>
body {
    margin: 0;
    background: #f4f6f9;
    font-family: Arial, sans-serif;
}

.sidebar {
    width: 250px;
    height: 100vh;
    background: #0d6efd;
    color: #fff;
    position: fixed;
    left: 0;
    top: 0;
    padding-top: 30px;
}

.sidebar h2 { text-align:center; margin-bottom:30px; font-size:20px; }
.sidebar a { display:block; padding:15px 20px; color:#fff; text-decoration:none; font-size:16px; }
.sidebar a:hover { background:#0b5ed7; cursor:pointer; }

.main { margin-left: 250px; padding: 30px; }

.topbar { 
    display:flex; 
    justify-content:space-between; 
    align-items:center; 
    margin-bottom:25px;
    background:white;
    padding:15px 20px;
    border-radius:10px;
    box-shadow:0 0 12px rgba(0,0,0,0.1);
}

.topbar h1 { margin:0; font-size:24px; color:#333; }

.btn { 
    background:#0d6efd; 
    border:none; 
    padding:10px 20px; 
    color:#fff; 
    border-radius:6px; 
    cursor:pointer; 
    font-size:15px;
}
.btn:hover { background:#0b5ed7; }

.card {
    background:#fff;
    padding:25px;
    border-radius:10px;
    box-shadow:0 0 12px rgba(0,0,0,0.1);
    margin-bottom:25px;
}

.anuncio-salvo {
    background: #eef3ff;
    padding: 12px;
    border-radius: 8px;
    border-left: 5px solid #0d6efd;
    margin-bottom: 12px;
}
</style>
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar">
    <h2>PrestAgora Digital</h2>

    <a href="dashboard.html">Dashboard</a>

    <a href="#contas" onclick="toggleContas()">Contas Meta Ads <span class="seta" id="seta">▼</span></a>
    <div class="contas-lista" id="listaContas"></div>

    <a href="meusclientes.html">Meus Clientes</a>
    <a href="bibliotecaanuncios.html" style="background:#0b5ed7;">Biblioteca de anúncios</a>

    <!-- FUNÇÃO ADICIONADA AQUI -->
    <a href="#" onclick="irParaAnaliseDeSite()">Analise de sites</a>

    <a href="#">Analise de redes sociais</a>
    <a href="#" onclick="sair()">Sair</a>
</div>

<!-- MAIN -->
<div class="main">

    <div class="topbar">
        <h1>Mineração de Anúncios</h1>

        <div style="display:flex; gap:15px;">
            <button class="btn" onclick="ativarExtensao()">Ativar Extensão</button>
            <button class="btn" onclick="abrirBiblioteca()">Ir para Biblioteca de Anúncios</button>
        </div>
    </div>

    <!-- ONDE APARECERÃO OS ANÚNCIOS SALVOS PELA EXTENSÃO -->
    <div class="card">
        <h2>Anúncios Salvos</h2>
        <p>Assim que você clicar em <b>Salvar</b> dentro da extensão na Biblioteca do Facebook, os anúncios aparecerão aqui.</p>

        <div id="listaAnuncios"></div>
    </div>

</div>

<script>
/* --------------------- IR PARA ANALISE DE SITE --------------------- */
function irParaAnaliseDeSite() {
    window.location.href = "analisesite.html";
}

/* --------------------- ABRIR BIBLIOTECA --------------------- */
function abrirBiblioteca() {
    window.open(
        "https://www.facebook.com/ads/library/?active_status=all&ad_type=all&country=BR",
        "_blank"
    );
}

/* --------------------- ATIVAR EXTENSÃO (SIMBÓLICO) --------------------- */
function ativarExtensao() {
    alert("Se sua extensão estiver instalada, ela será ativada automaticamente ao entrar na Biblioteca de Anúncios.");
}

/* --------------------- CARREGAR ANÚNCIOS SALVOS --------------------- */
function carregarAnuncios() {
    const anuncios = JSON.parse(localStorage.getItem("anunciosSalvos") || "[]");

    const lista = document.getElementById("listaAnuncios");
    lista.innerHTML = "";

    if (anuncios.length === 0) {
        lista.innerHTML = "<p>Nenhum anúncio salvo ainda.</p>";
        return;
    }

    anuncios.forEach(a => {
        const div = document.createElement("div");
        div.className = "anuncio-salvo";
        div.innerHTML = `
            <p><b>Texto:</b> ${a.texto}</p>
            <p><b>Link:</b> <a href="${a.url}" target="_blank">Abrir Anúncio</a></p>
        `;
        lista.appendChild(div);
    });
}

window.onload = carregarAnuncios;
</script>

</body>
</html>
